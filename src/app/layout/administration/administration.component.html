<section class="adminstration section-bg">
    <div class="container-fluid">
      <div class="row">
        <div class="col-12 heading d-flex justify-content-between">
          <h2>Administration </h2>

          <div class="d-flex">
            <div class="d-flex mx-3">
           
            </div>


          </div>
        </div>
      </div>
  
      <div class="row">
          <div class="row">
            <div class="col-lg-12">
              <div>
                <form [formGroup]="roleForm">

                <div class="table-responsive" *ngIf="users$ |async as users">
                  <table
                    class="table project-list-table table-nowrap align-middle table-borderless"
                  >
                    <thead>
                      <tr>
                
                        <th scope="col"> Name</th>
                        <th scope="col">Department</th>
                        <th scope="col">Email</th>
                        <th scope="col">On Hold</th>
                        <th scope="col">Roles</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let user of users ">
                     
                        <td>{{user.name}}</td>
                        <td class="truncate" style="max-width: 200px;">{{user.departmentName}}</td>
                        <td>{{user.email}}</td>
                        <td>
                            <span class="badge p-2  rounded-pill" [ngClass]="{ 'bg-success': !user.isOnHold,
                        
                            'bg-danger': user.isOnHold}">{{user.isOnHold}}</span> 
                        </td>

                         <td >
                        <select
                        class="form-select"
                        id="roleId"
                        formControlName="roleId"
                       
                        *ngIf="roles$|async as roles"

                       
                      >
                        <option value="" selected disabled> Select Role </option>
                        <option
                          [value]="role.id"
                          *ngFor="let role of roles"
                         
                        >
                          {{role.name}}
                          
                        </option>
                      </select>
                      </td> 

                      <td><a class="btn btn-main" (click)="onUpdateClick(user.id)"> Update</a></td>


                      </tr>
                    </tbody>
                  </table>
                </div>
              </form>

              </div>
            </div>
          </div>
        </div> 
  
  
    </div>
  </section>